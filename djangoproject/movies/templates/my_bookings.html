{% extends 'base.html' %}

{% block content %}
  <h1>My Bookings</h1>
  
  {% for booking in bookings %}
    <div class="booking-card">
      <h3>{{ booking.showtime.movie.movie_name }}</h3>
      <p><strong>Theater:</strong> {{ booking.showtime.screen.theater.theater_name }}</p>
      <p><strong>Time:</strong> {{ booking.showtime.start_time|date:"F d, Y - P" }}</p>
      <p><strong>Seats:</strong> 
        {% for seat in booking.seats.all %}
          {{ seat.seat_number }}{% if not forloop.last %}, {% endif %}
        {% endfor %}
      </p>
      <p><strong>Total Price:</strong> ${{ booking.total_price }}</p>
      <p><strong>Status:</strong> {% if booking.is_paid %}Paid{% else %}Pending Payment{% endif %}</p>
    </div>
    <hr>
  {% empty %}
    <p>You have no bookings yet.</p>
  {% endfor %}
{% endblock %}